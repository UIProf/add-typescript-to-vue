(function(e){function t(t){for(var n,r,s=t[0],u=t[1],c=t[2],l=0,b=[];l<s.length;l++)r=s[l],i[r]&&b.push(i[r][0]),i[r]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);m&&m(t);while(b.length)b.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,r=1;r<a.length;r++){var s=a[r];0!==i[s]&&(n=!1)}n&&(o.splice(t--,1),e=u(u.s=a[0]))}return e}var n={},r={app:0},i={app:0},o=[];function s(e){return u.p+"js/"+({about:"about"}[e]||e)+"."+{about:"7b3be9b3"}[e]+".js"}function u(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,u),a.l=!0,a.exports}u.e=function(e){var t=[],a={about:1};r[e]?t.push(r[e]):0!==r[e]&&a[e]&&t.push(r[e]=new Promise(function(t,a){for(var n="css/"+({about:"about"}[e]||e)+"."+{about:"b06dc82c"}[e]+".css",i=u.p+n,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var c=o[s],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===n||l===i))return t()}var b=document.getElementsByTagName("style");for(s=0;s<b.length;s++){c=b[s],l=c.getAttribute("data-href");if(l===n||l===i)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var n=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");o.request=n,delete r[e],m.parentNode.removeChild(m),a(o)},m.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(m)}).then(function(){r[e]=0}));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,a){n=i[e]=[t,a]});t.push(n[2]=o);var c,l=document.getElementsByTagName("head")[0],b=document.createElement("script");b.charset="utf-8",b.timeout=120,u.nc&&b.setAttribute("nonce",u.nc),b.src=s(e),c=function(t){b.onerror=b.onload=null,clearTimeout(m);var a=i[e];if(0!==a){if(a){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+n+": "+r+")");o.type=n,o.request=r,a[1](o)}i[e]=void 0}};var m=setTimeout(function(){c({type:"timeout",target:b})},12e4);b.onerror=b.onload=c,l.appendChild(b)}return Promise.all(t)},u.m=e,u.c=n,u.d=function(e,t,a){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(u.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(a,n,function(t){return e[t]}.bind(null,n));return a},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/add-typescript-to-vue/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var b=0;b<c.length;b++)t(c[b]);var m=l;o.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"21bb":function(e,t,a){"use strict";var n=a("bcc9"),r=a.n(n);r.a},"3bdd":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v("\n      "+e._s(" ")+"|\n      "),a("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),a("router-view")],1)},i=[],o=(a("5c0b"),a("2877")),s={},u=Object(o["a"])(s,r,i,!1,null,null,null);u.options.__file="App.vue";var c=u.exports,l=a("8c4f"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("h1",{staticClass:"home__header"},[e._v("Search for Greenhouse Gas Emissions by City")]),a("Search")],1)},m=[],p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search"},[a("SearchBar",{attrs:{cities:e.cities},on:{cityAdded:e.addCity}}),a("SearchResultChart",{attrs:{cities:e.cities}})],1)},v=[],d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-bar"},[a("div",{staticClass:"form-control"},[a("label",{staticClass:"form-control__label",attrs:{for:"city"}},[e._v("City")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.input.city,expression:"input.city"}],staticClass:"form-control__input",attrs:{type:"text",id:"city",placeholder:e.placeholder},domProps:{value:e.input.city},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.attemptSearch(t):null},input:[function(t){t.target.composing||e.$set(e.input,"city",t.target.value)},e.isValidInput]}})]),a("div",{staticClass:"form-control"},[a("label",{staticClass:"form-control__label",attrs:{for:"state"}},[e._v("State")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.input.state,expression:"input.state"}],staticClass:"form-control__select",attrs:{name:"state",id:"state"},on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.$set(e.input,"state",t.target.multiple?a:a[0])},e.isValidInput],keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.attemptSearch(t):null}}},e._l(e.states,function(t){return a("option",{key:t.abbreviation,domProps:{value:t.abbreviation}},[e._v(e._s(t.abbreviation))])}))]),a("button",{staticClass:"form-button",on:{click:e.attemptSearch}},[e._v("Get Emissions Data")]),a("br"),e.errorMessage?a("span",{staticClass:"error-message"},[e._v(e._s(e.errorMessage))]):e._e()])},h=[],f=(a("7514"),a("28a5"),function(e){return e.toLowerCase().split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.substring(1)}).join(" ")}),g=a("bc3a"),y=a.n(g),_="https://developer.nrel.gov/api/cleap/v1/",C="DEMO_KEY",S=function(e,t){var a="energy_expenditures_and_ghg_by_sector",n=encodeURIComponent(e),r=encodeURIComponent(t);return y.a.get("".concat(_,"/").concat(a)+"?city=".concat(n)+"&state_abbr=".concat(r)+"&api_key=".concat(C))},M=[{name:"Alabama",abbreviation:"AL"},{name:"Alaska",abbreviation:"AK"},{name:"American Samoa",abbreviation:"AS"},{name:"Arizona",abbreviation:"AZ"},{name:"Arkansas",abbreviation:"AR"},{name:"California",abbreviation:"CA"},{name:"Colorado",abbreviation:"CO"},{name:"Connecticut",abbreviation:"CT"},{name:"Delaware",abbreviation:"DE"},{name:"District Of Columbia",abbreviation:"DC"},{name:"Federated States Of Micronesia",abbreviation:"FM"},{name:"Florida",abbreviation:"FL"},{name:"Georgia",abbreviation:"GA"},{name:"Guam",abbreviation:"GU"},{name:"Hawaii",abbreviation:"HI"},{name:"Idaho",abbreviation:"ID"},{name:"Illinois",abbreviation:"IL"},{name:"Indiana",abbreviation:"IN"},{name:"Iowa",abbreviation:"IA"},{name:"Kansas",abbreviation:"KS"},{name:"Kentucky",abbreviation:"KY"},{name:"Louisiana",abbreviation:"LA"},{name:"Maine",abbreviation:"ME"},{name:"Marshall Islands",abbreviation:"MH"},{name:"Maryland",abbreviation:"MD"},{name:"Massachusetts",abbreviation:"MA"},{name:"Michigan",abbreviation:"MI"},{name:"Minnesota",abbreviation:"MN"},{name:"Mississippi",abbreviation:"MS"},{name:"Missouri",abbreviation:"MO"},{name:"Montana",abbreviation:"MT"},{name:"Nebraska",abbreviation:"NE"},{name:"Nevada",abbreviation:"NV"},{name:"New Hampshire",abbreviation:"NH"},{name:"New Jersey",abbreviation:"NJ"},{name:"New Mexico",abbreviation:"NM"},{name:"New York",abbreviation:"NY"},{name:"North Carolina",abbreviation:"NC"},{name:"North Dakota",abbreviation:"ND"},{name:"Northern Mariana Islands",abbreviation:"MP"},{name:"Ohio",abbreviation:"OH"},{name:"Oklahoma",abbreviation:"OK"},{name:"Oregon",abbreviation:"OR"},{name:"Palau",abbreviation:"PW"},{name:"Pennsylvania",abbreviation:"PA"},{name:"Puerto Rico",abbreviation:"PR"},{name:"Rhode Island",abbreviation:"RI"},{name:"South Carolina",abbreviation:"SC"},{name:"South Dakota",abbreviation:"SD"},{name:"Tennessee",abbreviation:"TN"},{name:"Texas",abbreviation:"TX"},{name:"Utah",abbreviation:"UT"},{name:"Vermont",abbreviation:"VT"},{name:"Virgin Islands",abbreviation:"VI"},{name:"Virginia",abbreviation:"VA"},{name:"Washington",abbreviation:"WA"},{name:"West Virginia",abbreviation:"WV"},{name:"Wisconsin",abbreviation:"WI"},{name:"Wyoming",abbreviation:"WY"}],A={name:"Search",props:{cities:{type:Array,required:!0}},data:function(){return{input:{city:"",state:""},states:M,placeholder:"Enter City",errorMessage:"",submitAttempted:!1}},methods:{attemptSearch:function(){var e=this;this.isValidSubmit()&&S(this.input.city,this.input.state).then(function(t){var a=e.generateCityResponse(t);a?(e.emitCityAdded(a),e.clearInput()):e.errorMessage="No energy usage found for this city - please try again"}).catch(function(){e.errorMessage="No energy usage found for this city - please try again"})},isValidInput:function(){return this.submitAttempted?this.input.city&&this.input.state?2!==this.input.state.length?(this.errorMessage="Please enter a valid state",!1):(this.errorMessage="",!0):(this.errorMessage="Please enter a city & state",!1):(this.errorMessage="",!0)},isValidSubmit:function(){if(this.submitAttempted=!0,!this.isValidInput())return!1;var e=this.generateCityStateSlug(),t=e.slug,a=!!this.cities.find(function(e){return e.slug===t});return a?(this.errorMessage="City is already in results. Try searching for something new?",!1):(this.errorMessage="",!0)},generateCityStateSlug:function(){var e=this.input,t=e.city,a=e.state,n=t.toLowerCase(),r=f(n),i="".concat(n,"-").concat(a);return{lowerCaseCity:n,capitalizedCity:r,state:a,slug:i}},generateCityResponse:function(e){if(null!=e.data){var t=this.generateCityStateSlug(),a=t.capitalizedCity,n=t.state,r=t.slug;if(e.data.result&&e.data.result[a])return{slug:r,name:a,state:n,energyUsage:e.data.result[a]}}},emitCityAdded:function(e){this.$emit("cityAdded",e)},clearInput:function(){this.input.city="",this.input.state="",this.errorMessage="",this.submitAttempted=!1}}},w=A,k=(a("c2c9"),Object(o["a"])(w,d,h,!1,null,null,null));k.options.__file="SearchBar.vue";var N=k.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"search-result-chart"},[a("ul",e._l(e.cities,function(t){return a("li",{key:t.slug},[e._v("\n        "+e._s(t.name)+"\n        "+e._s(t.state)+"\n        "+e._s(e.calculateGhgPerCapita(t,"residential"))+"\n        "+e._s(e.calculateGhgPerCapita(t,"commercial"))+"\n        "+e._s(e.calculateGhgPerCapita(t,"industrial"))+"\n      ")])}))])},O=[],P={name:"Search",props:{cities:{type:Array,required:!0}},methods:{calculateGhgPerCapita:function(e,t){var a=e.energyUsage.residential.total_pop,n=e.energyUsage[t],r=n["elec_lb_ghg"],i=n["gas_lb_ghg"],o=Math.round((r+i)/a);return"".concat(o," lbs of ").concat(t," greenhouse gases, per capita")}}},E=P,x=(a("b858"),Object(o["a"])(E,I,O,!1,null,"2c8eeee9",null));x.options.__file="SearchResultChart.vue";var T=x.exports,j={name:"Search",components:{SearchBar:N,SearchResultChart:T},data:function(){return{cities:[]}},methods:{addCity:function(e){this.cities.push(e)}}},V=j,R=(a("5911"),Object(o["a"])(V,p,v,!1,null,"70489ec2",null));R.options.__file="Search.vue";var D=R.exports,G={name:"home",components:{Search:D}},L=G,U=(a("21bb"),Object(o["a"])(L,b,m,!1,null,null,null));U.options.__file="Home.vue";var W=U.exports;n["a"].use(l["a"]);var $=new l["a"]({mode:"history",base:"/add-typescript-to-vue/",routes:[{path:"/",name:"home",component:W},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),H=a("2f62");n["a"].use(H["a"]);var B=new H["a"].Store({state:{},mutations:{},actions:{}});n["a"].config.productionTip=!1,new n["a"]({router:$,store:B,render:function(e){return e(c)}}).$mount("#app")},"57be":function(e,t,a){},5911:function(e,t,a){"use strict";var n=a("3bdd"),r=a.n(n);r.a},"5c0b":function(e,t,a){"use strict";var n=a("5e27"),r=a.n(n);r.a},"5e27":function(e,t,a){},"9db4":function(e,t,a){},b858:function(e,t,a){"use strict";var n=a("57be"),r=a.n(n);r.a},bcc9:function(e,t,a){},c2c9:function(e,t,a){"use strict";var n=a("9db4"),r=a.n(n);r.a}});
//# sourceMappingURL=app.5fe928a6.js.map